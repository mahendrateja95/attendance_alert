# =========================
# Enhanced Face Recognition System - CPU Optimized Requirements
# Compatible with Windows/Linux/macOS - CPU only for maximum compatibility
# =========================

# ---- Core web framework ----
Flask==3.0.0
Werkzeug==3.0.1

# ---- Computer Vision ----
opencv-contrib-python==4.8.1.78
Pillow>=10.0.0
scikit-image>=0.21.0          # Use available pre-built wheel

# ---- Deep Learning (PyTorch CPU) ----
# CPU-only build for maximum compatibility
torch==2.8.0
torchvision==0.23.0

# ---- Face Recognition Models ----
facenet-pytorch==2.5.3        # MTCNN + InceptionResnetV1 (FaceNet)

# ---- ArcFace (InsightFace) - CPU Compatible ----
# Requires Microsoft Visual C++ Build Tools on Windows
# Download from: https://visualstudio.microsoft.com/visual-cpp-build-tools/
# Select "Desktop development with C++" workload during installation
insightface==0.7.3            # Install after Build Tools are ready
onnx==1.15.0                   # Required for InsightFace models
onnxruntime==1.23.1           # CPU runtime for ONNX models

# ---- MediaPipe for 3D Face Mesh ----
# Using stable version compatible with CPU processing
mediapipe==0.10.8
protobuf==3.20.3              # Required for MediaPipe compatibility

# ---- Vector Search (CPU) ----
faiss-cpu==1.7.4              # CPU-only FAISS for similarity search

# ---- Data Processing ----
numpy>=1.24.0,<2.0.0         # Pin numpy < 2.0 for FAISS compatibility
pandas>=2.0.0
scipy==1.11.4

# ---- Machine Learning Utilities ----
scikit-learn==1.3.2
matplotlib>=3.7.0             # For plotting attendance data

# ---- Excel Export ----
openpyxl==3.1.2

# ---- Additional Dependencies for Enhanced Features ----
# Image processing and quality assessment
imutils==0.5.4                # Image utilities
# albumentations==1.3.1       # Skip on Windows due to compilation issues

# ---- Security & Utilities ----
cryptography>=41.0.0          # For secure password hashing
python-dateutil>=2.8.0        # Date/time utilities

# ---- Development & Testing (Optional) ----
# pytest>=7.4.0               # Uncomment for testing
# requests>=2.31.0            # Uncomment for API testing